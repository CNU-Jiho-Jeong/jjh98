# WEB 

### 1. WEB 개요

- 『월드 와이드 웹. World Wide Web』의 준말이다.
인터넷에 연결된 사용자들이 서로의 정보를 공유할 수 있는 공간을 의미한다.
WWW 나 W3 라고 부르기도 하지만, Web이라는 말로 가장 많이 부른다.

- 인터넷과 같은 의미로 많이 사용되지만, 엄밀히 말하면 웹은 인터넷 상의 인기 서비스 중 하나. 인터넷과는 다른 개념이다.
하지만 두 용어가 혼용되어 사용될 정도로 인터넷에 큰 부분을 차지하고 있는 것이 사실이다.

- 웹 이전의 인터넷은 초기의 명령어 기반 구조를 가지고 있었으며, 하드웨어와 OS에 따라 다른 명령어를 사용해야 했지만, 인터넷 상에서의 정보저장과 사용환경에 대한 연구를 통해 웹에서는 컴퓨터의 종류를 불문하고 한 가지 종류의 표준 사용자 환경으로 조작이 가능하도록 했다.

### 2. WEB의 역사

- 1969년 인터넷이 개발되었다.

- 웹은 1989년 3월 유럽 입자 물리 연구소의 컴퓨터과학자 “팀 버너스리”에 의해 연구와 개발이 시작되었다.

- E-mail이나 FTP를 통해 주고받는 것을 비효율적으로 생각하여 제안한 공통된 공간의 정보를 공유하고 관리할 수 있게 하자는 아이디어에서 출발했다.
세계 여러 대학과 연구기관에서 일하는 학자 상호간의 신속한 정보교환과 공통 연구를 위한 프로그램으로 고안되었다. 문자, 사진, 동영상 등이 조합된 데이터베이스인 사이트의 정보를 전용 열람용 소프트웨어인 웹 브라우저를 통해 입수하고, 입수한 정보를 간단한 방식으로 전송하는 것도 가능하다.

- 초창기의 웹은 지금과는 사뭇 다른 양상을 보였으며, 단순한 정보저장의 역할만 수행했다고 한다.
세계적으로 대중화된 최초의 GUI 기반 웹 브라우저는 일리노이 대학의 “마크 안데르센”이 작성했다고 한다. “모자이크 웹 브라우저” 사용자들은 인터넷 '브라우저'의 도움으로 웹 세계를 서핑할 수 있고, 이를 통해 엄청나게 다양한 영역의 자료, 프로그램 등을 접하고 다운받을 수 있다.

- WWW에 관련된 기술은 `월드 와이드 웹 컨소지엄(W3C)`이 개발하고 있다. HTML, HTTP 등의 표준화를 진행하고 있으며, 최근에는 시맨틱 웹에 관련된 표준을 제정하고 있다고 한다.

### 3. 웹의 구성

**웹 페이지(web page)**

- 웹 브라우저에서 보여지는 문서.

- HTML로 작성되거나 이미지 파일 등을 포함한 하이퍼 텍스트 문서

**웹 사이트(web site)**

- 인터넷 프로토콜 기반의 네트워크에서 도메인 이름이나 IP 주소, 루트 경로만으로 이루어진 일반 URL을 통해 보이는 웹 페이지들의 의미 있는 묶음.

- 웹 페이지 중 서로 관련된 내용으로 작성된 페이지들의 집합으로 웹 페이지들이 하이퍼링크를 통해 서로 연결되어 구성된다. 즉 웹 페이지의 집합을 웹 사이트라고 할 수 있다.

- 웹 사이트와 홈페이지라는 용어를 같은 의미로 사용하는 경우가 많지만, 조금 다르다. 홈페이지의 정확한 의미는 웹 브라우저가 시작될 때 맨 처음 자동으로 표시되는 웹 페이지나 웹 브라우저의 홈 버튼을 누를 때 이동되는 웹 페이지를 지칭하는 것이다.

- 최초의 웹사이트는 팀 버너스리가 만든 `info.cern.ch`

- 웹 사이트는 인터넷이나 랜과 같은 네트워크를 통해 접속할 수 있는, 적어도 하나의 웹 서버 상에서 호스팅된다. 웹 페이지는 HTML의 형식으로 표현되지만, 일반적으로 순수 문자열로 쓰여진 문서이며, HTTP를 통해 접속된다. (HTTPS를 통한 암호화를 사용하여 웹 페이지 콘텐츠를 이용한 사람들에게 보안과 개인 정보 보호를 제공하기도 한다.)

- 공식적으로 접속할 수 있는 모든 웹사이트는 총체적으로 WWW를 이루고 있다.

**웹 브라우저(web browser)**

- 인터넷 브라우저, 웹 탐색기 등.

- 웹 서버에서 이동하며 쌍방향으로 통신하고 HTML 문서나 파일을 출력하는 그래픽 사용자 인터페이스 기반의 소프트웨어. 

- 대표적인 HTTP 사용자 에이전트의 하나.

- 구글 크롬, 인터넷 익스플로러/마이크로 소프트 엣지, 사파리 등이 이에 해당한다.

**웹 클라이언트 (Web Client)**

- 웹을 사용하는 고객.

- 디바이스 장치에서 동작하는 웹 클라이언트 프로그램을 '웹 브라우저'라고 한다.

- 웹 클라이언트는 웹 브라우저에서 발생하는 특정 행위를 웹 서버에 요청(Request)한다.

- 사용자가 실제로 보는 view-page이며, 역할 차원에서는 프론트 엔드.

**웹 서버 (Web Server)**

- 클라이언트가 송신한 요청을 처리하고 필요한 데이터들을 응답(Response) 한다.

- 웹 브라우저는 웹 서버에서 응답 받은 데이터(이미지, 텍스트, 파일, 동영상등)를 화면에 표시하며, 사용자가 생성한 웹에 대한 요청을 받아들이고 이에 대한 로직 및 데이터베이스와 연동을 하는 곳으로, 역할 차원으로는 백엔드.

- 클라이언트에게 콘텐츠를 전달받는 역할도 함. 파일 업로드를 포함하여 클라이언트에서 제출한 웹 폼을 수신하기 위해 사용됨.

- 대다수의 웹 서버는 ASP, PHP등 `서버 사이드 스크립트 언어`를 지원한다. 

- 서버 소프트웨어의 변경 없이도 웹 서버가 동작을 수행한다는 것은 분리된 서버 사이드 스크립트 언어에 기술할 수 있다는 의미이다. 이를 통해 구현되는 기능이란 HTML 문서를 동적으로 생성하는 것을 의미하며, 이렇게 생성된 문서를 동적 컨텐츠라 하는데, DB의 정보를 조회해서 보여주거나 수정하기 위해 사용된다.

- 이와 대비되는 개념으로 정적 컨텐츠가 있는데 동적 컨텐츠보다 더 빠르게 동작하고 쉽게 캐시될 수 있지만, 반환되는 컨텐츠의 내용이 동일하다는 점이 다르다.

### 4. 웹의 기술

**프로토콜과 표준**

- 웹 페이지를 가져오거나 정보를 송신하기 위해(웹 문서를 열기 위해) 대부분의 웹 서버가 사용하는 HTTP(hyper-text transfer protocol)로 통신한다.

- 페이지들은 주소처럼 이용되는 URL(uniform resource locator)을 통해 장소가 정해지고, HTTP 접근을 위해 `http:`로 시작된다

- FTP를 위한 `ftp:` 암호화 HTTP인 HTTPS를 위한 `https:`와 같은 다양한 URL 종류와 대응 프로토콜을 지원한다.

- 웹 페이지의 파일은 보통 HTML(hyper-text markup language)으로 작성된다. 

- 대부분의 브라우저는 HTML외에도 JPEG, PNG, GIF 등 이미지 포맷을 지원하고, 그 밖에도 플러그인을 통해 확장할 수 있다.

**HTTP (Hyper Text Transfer Protocol)**

- 애플리케이션 컨트롤

- 웹 상에서 정보를 주고받을 수 있는 프로토콜. 주로 HTML 문서를 주고받는 데 쓰인다. 

- 주로 TCP를 사용하고 HTTP/3부터는 UDP를 사용하며, 80번 포트를 사용한다.

- 클라이언트-서버 사이에 이루어지는 요청/응답 프로토콜.

- 클라이언트-서버 사이의 소통은 평문(ASCII) 메시지로 이루어진다. 클라이언트는 서버로 요청메시지를 전달하며, 서버는 응답 메시지를 보낸다.

- 하이퍼텍스트(hypertext) : 문서 내부에 또 다른 문서로 연결되는 참조를 집어 넣음으로써 웹 상에 존재하는 여러 문서끼리 서로 참조할 수 있는 기술.

- 하이퍼링크(hyperlink) : 문서 내부에서 또 다른 문서로 연결되는 참조.

**HTML (Hyper Text Markup Language)**

- 하이퍼미디어 포맷

- 웹 페이지 표시를 위해 개발된 지배적인 마크업 언어.

- 제목, 단락 등과 같은 본문을 위한 구조적 의미를 나타내는 것뿐만 아니라 링크, 인용과 그 밖의 항목으로 구조적 문서를 만들 수 있는 방법을 제공하며, 이미지와 객체를 내장, 대화형 양식을 생성하는데 사용할 수도 있다.

- 웹에서는 HTML이라는 언어를 사용해 누구나 자신만의 문서를 작성할 수 있으며, 이렇게 작성된 웹상 문서는 HTTP라는 프로토콜을 사용하면 누구나 검색하고 접근할 수 있다.

**URI (Uniform Resource Identifier)**

- 리소스 식별자

- 인터넷에 있는 자원을 나타내는 유일한 주소. 인터넷에서 요구되는 기본조건으로서 인터넷 프로토콜에 항상 붙어 다닌다.

- URL (Uniform Resource Locator)

	네트워크 상에서 자원이 어디 있는지 알려주기 위한 규약.
	
	네트워크와 검색 메커니즘에서의 위치를 지정하는, 웹 리소스에 대한 참조.
	
	웹 사이트 주소 뿐만 아니라 컴퓨터 네트워크 상의 자원을 모두 나타낼 수 있음.
	
	주소에 접속하려면 해당 URL에 맞는 프로토콜을 알아야 하고, 그와 동일한 프로토콜로 접속해야 한다.
	
- URN (Uniform Resource Name)

	`urn:scheme`를 사용하는 URI를 위한 이름.
	
	영속적이고, 위치에 독립적인 자원을 위한 지시자로 사용하기 위해 정의됨.

**용어**

- DNS (Domain Name System)

	사람이 읽을 수 있는 도메인 이름을 머신이 읽을 수 있는 IP주소로 변환함.

- IP

	인터넷으로 통신하는 각 디바이스에 부여된 고유의 값. 
	
	인터넷 상의 모든 컴퓨터는 숫자를 사용하여 서로를 찾고 통신하며 이때 필요한 것이 IP주소.

- Domain

	문자로 된 고유주소. 수많은 IP를 사람이 외워서 접속할 수는 없기 때문에 기억하기 쉽게 만들어져 있다.
	
### 5. 오픈소스 웹서버

#### 1. 엔진엑스 HTTPd 서버

- NGINX는 웹사이트 트래픽 증가와 광대역 인터넷의 성장, 이에 따른 동시 접속을 관리해야 할 필요에 대응하고자 2002년 러시아 엔지니어인 `이고르 시오세프`가 개발한 경량 웹 서버이다.

- HTTP와 HTTP/2를 지원하며, HTTP/3는 개발중.

- `클라우드플레어`에서는 자체적으로 개발한 NGINX 확장 모듈을 이용해 HTTP/3 상용 서비스를 하고 있다고 한다.

- HTTP Web Server로 활용될 수도, Reverse Proxy Server로 활용하여 WAS 서버의 부하를 줄일 수 있는 로드 밸런서로 활용할 수도 있다.

**특징**

1. Event-Driven(비동기) 방식

- 비동기 방식으로 먼저 처리해야 되는 것부터 진행한다.

- Single-Thread로 동작하며, non-blocking I/O 이벤트 기반으로 요청을 처리하기 때문에 적은 자원으로 효율적인 트래픽 처리가 가능하다.

- 새 요청이 들어오더라도 새로운 프로세스와 쓰레드를 생성하지 않기 때문에 프로세스와 쓰레드 생성 비용이 존재하지 않고, 적은 자원으로 효율적인 운용이 가능하다.

- 단일 서버에서도 동시에 많은 연결을 처리할 수 있다.

2. SSL 지원 및 SNI 기능 지원

- 예전 웹 서버 같은 경우 1개의 IP에는 1개의 도메인의 SSL 인증서만 적용해야 됐으며, 1개의 IP에 여러 개의 도메인 인증서로 적용하려면 몇 배 더 비싼 멀티 인증서로 적용해야 했다.

- 이런 부분을 해결하기 위한 기능이 SNI이며, Nginx에서는 SNI 기능을 지원한다.

3. FastCGI / SCGI 지원

- FastCGI /SCGI 를 기능을 통해 웹서버와 WAS를 분리하여 서버의 부하를 방지하고 물리적으로 분리하여 보안을 강화 할 수 있다.

- FastCGI : 기본 웹 서버 모듈의 일부 성능 특성을 CGI(Common Gateway Iterface). 프로그래밍 인터페이스의 웹 서버 독립성과 결합하는 웹 서버와 애플리케이션 간의 인터페이스. 언어에 독립적이고, 확장가능한 아키텍쳐인 CGI에 대한 개방형 확장.

- SCGI(Simple Common Gateway Interface): 좀 더 간편한 FastCGI.

4. Proxy 서버 지원 및 로드밸런싱 지원

- 프록시 서버 기능 지원으로 보안적으로 강화 가능. 프록시 서버 구성으로 로드밸런싱 구성도 가능하다.

- 다음의 로드밸런싱 방법을 지원한다.

	Round Robbin : 주어진 서버들을 순차적으로 돌아가며 선택.
	
	Least-connected : 현재 접속 수가 가장 적은 서버를 선택.
	
	IP-hash : hash function을 사용, 클라이언트 ip를 hash 한 결과에 따라 다른 서버를 할당.

- 리버스 프록시(reverse proxy)로도 활용할 수 있다.

- 사용할 때 환경 설정을 바꾸고 나서 서버 데몬을 재시작할 필요 없이 reload 시그널을 보내면 된다. 즉 프로세스를 재시작할 필요가 없다는 장점이 있다.

#### 2. 아파치 HTTP 서버

- 오픈 소스 소프트웨어 그룹인 `아파치 소프트웨어 재단`에서 만든 웹 서버 프로그램. 최초의 웹 서버 프로그램인 `NCSA HTTPd`를 기반으로 만들어졌다.

- `NCSA HTTPd`가 유닉스 기반으로 만들어졌기에, 아파치 HTTP 서버는 `NCSA HTTPd`를 리눅스에서도 구동하는 것을 목표로 만들어진 프로그램이다. 이후 리눅스와 함께 퍼져나갔고, 리눅스가 서버 OS를 최다 점유하자, 아파치도 자연스럽게 최다 점유율을 차지하게 되었다.

**특징**

- 확장성이 상당히 좋다. 모듈이라는 개념으로 수많은 기능을 덧붙일 수 있으며, 이 모듈을 통해 다른 프로그램과의 연동도 가능하다. 이 때문에 여러가지 서버사이드 프로그래밍 언어나 DBMS와도 궁합이 잘 맞았다. 특히 리눅스 서버 운영체제, PHP와 MySQL과 함께 사용하는 것을 `LAPM`이라고 통칭되면서 웹 서버의 기본처럼 여겨졌다.

- 아파치 자체는 웹 서버로의 아주 기본적인 기능만 수행하고, PHP를 비롯해 대부분 발전된 기능은 외부 모듈로 구현한다. 오랜 역사와 높은 시장 점유율 덕분에 이런 외부 모듈이 많고, 안정화도 잘 되어있기에 아파치가 시장 점유율이 높은 것.
대규모 엔터프라이즈, 거대 규모 웹서버 시장 점유율이 높으며, 금융권을 비롯한 안정성과 보안이 중요한 곳에서도 아파치를 사용한다.

- 라이선스는 GPL이 아닌 자체 라이선스를 사용한다. 아파치 라이선스 2.0을 따르는데, 아파치 소프트웨어 재단에서 만들었다는 사실을 밝히고, 아파치 라이선스를 따르면 자유롭게 수정 및 배포가 가능하다. 소스 공개 강제 사항도 없다.

- 요청 당 프로세스 또는 쓰레드가 처리하는 구조이며, 요청이 많아지면 CPU와 메모리 사용량이 높아져 성능이 저하될 수 있다. 

- 이 문제들은 킵얼라이브(Keep Alive)를 활성화함으로 해결할 수 있지만, 대량 접속 시 효율이 급격히 떨어지는 문제점이 발생한다.

#### 3. 라이티(혹은 라이티피디)

- Lighttpd : `Light`와 `httpd`를 합친 말이지만, 웹 서버가 가진 속도, 유연성, 안정성을 표현하기 위해 '라이티'라고 발음한다.

- 고성능의 속도가 핵심인 환경에 맞춰 최적화된 경량 웹 서버이며, 고부하 서버들에게 이상적이다.

- `잰 네쉬체`가 개발했으며, 2003년 대학 논문을 쓰면서 개념 증명 설계로서 시작한 것이 현재 가장 인기 있는 웹 서버의 하나가 되었다.

- 메모리 풋프린트(memory footprint)가 비교적 낮고, CPU 부하가 적으며, 여러 고급 기능을 갖는다.

- 적은 자원으로 높은 성능을 내는 웹서버로서 고안되었으며, 적은 메모리를 사용하면서도 높은 속도를 낸다.

- 뛰어난 무결성 수준으로 외부 프로그램 인터페이스를 지원하고, 어떤 프로그래밍 언어로 작성된 웹 애플리케이션이든 전부 지원한다.

**기능**

- 외부 프로그램에 대한 FastCGI, SCGI, CGI 인터페이스를 지원하므로 모든 프로그래밍 언어로 작성된 웹 응용 프로그램을 서버에서 사용할 수 있다. 특히 PHP를 적절하고 효율적으로 지원하도록 구성할 수 있다.

- SNI 지원이 있는 SSL/TLS

- 유연한 가상 호스팅과 모듈 지원.

#### 4. 하와이타

- Hiawatha는 ‘휴고 리싱크’가 2002년 네덜란드에서 컴퓨터 공학을 공부하던 중 기숙사에서 인터넷 서버들을 지원하고 싶어서 개발하였다.

- 목표는 서버들에서 발견된 보안 한계를 둘러싼 취약점들과 혼란스러운 구성 툴에 대처하는 시스템을 개발하는 것.

- 이 서버는 다른 웹 서버들이 가진 모든 일반적 보안 수단은 물론 독자적인 보안 기능을 여럿 포함한다. 가독성 있는 구성 구문으로 HTTP나 CGI에 대한 전문성 없이 사용할 수 있다.

- 크기가 작고, 보안이 안정적이며, 쉽게 설치할 수 있다는 강점. 

- 고급 기능보다는 보안, 이용성, 속도, 성능을 우선시하는 아파치의 경량 대안을 찾는 사람들에게 이상적이다.

**기능**

- CGI 및 로드 밸런싱 FastCGI 지원

- 대용량 파일 지원

- 리버스 프록시 기능

- URL 재작성을 지원하는 URL 툴킷

- SSL 및 TLS 지원

#### 5. 체로키

- Cherokee는 2001년 아카마이 테크놀리지의 엔지니어링 총괄 `알바로 로페즈 오르테가`가 개발하였다. 오르테가는 모듈식 경량 설계 안에 속도와 기능성을 취합하고 싶어 했다.

- 체로키는 메모리 풋프린트가 낮고, 부하 밸런싱 장치들이 있고, 확장성이 있으며, 고성능에 이용자 친화적인 웹 서버로서 이내 탁월성을 인정받았다.

- 인상적인 여러 기능, 예컨대 서버 및 이의 모든 기능의 직접적 구성 설정을 지원하는 `체로키-어드민`이라는 웹-기반 관리 인터페이스를 포함한다.

**기능**

- Linux , BSD 변형 , Solaris , OS X 및 Windows 에서 실행 되는 오픈 소스 크로스 플랫폼 웹 서버.

- `cherokee-admin`이라는 그래픽 관리 인터페이스와 모듈식 경량 설계 지원.

- TLS/SSL

- URL 재작성 및 리디렉션

- 리버스 HTTP 프록시

- FastCGI 및 SCGI

#### 6. 몽키 HTTP 서버

- Monkey HTTP는 처음에는 리눅스용으로 최적화되었으나 현재에는 맥에서도 구동되는 경량 서버 및 개발 스택이다. 임베디드 디바이스를 위해 개발되었고, 결과적으로 확장성이 뛰어나고, 아울러 메모리와 CPU 소비가 낮다.

- 2002년 단순히 학습을 위한 실험 용도로 시작되었지만, 서버가 이벤트 중심 시스템으로 재개발되었던 2008년부터 상업적 용도로 성격이 변화했다.

- 서버는 스레드 별로 수천 클라이언트를 수용하는 하이브리드 메커니즘을 통해 기능. 설치가 쉽고 임베디드 장치에 이상적인, 초소형 서버의 과부하 하에서 뛰어난 성능을 제공한다.

- 특정 시스템 호출 및 최적화 기술 측면에서 Linux 커널을 최대한 활용하여 고부하에서 고성능을 달성하도록 설계되었다.

**기능**

- IPv6 , TLS , 가상 호스트, CGI , FastCGI , 디렉토리 목록 및 보안 규칙과 같은 공통 기능을 지원한다.



