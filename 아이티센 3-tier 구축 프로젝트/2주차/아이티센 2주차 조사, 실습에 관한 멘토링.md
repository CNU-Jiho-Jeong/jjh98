# 우리 팀 발표

- 레이드 정보가 디스크에도 있고, 디스크를 관장하고 있는 레이드 카드에도 있음.
레이드 정보가 들어있었던 레이드 카드를 변경하는 순간 카드에 있는 데이터가 소실되기 때문에 데이터를 읽지 못하게 될 확률이 높다.

- 레이드 카드에 있는 '데이터 리딩에 필요한 데이터'가 소실될 가능성이 높기 때문.

- 파일 시스템은 다른 운영체제에서도 볼 수 있고, 사용도 가능하다.

- 맥북은 다른 파일 시스템을 사용한다.

- 윈도우와 맥의 파일시스템이 다르기 때문에, 원래라면 파일을 사용할 수 없다. 하지만 드라이버나 솔루션을 설치함으로써 가능하다.
리눅스 계열의 OS가 더 많은 파일시스템을 지원한다.

- LVM 장점
용량이 넘치게 되면 둘 중에 하나를 선택해야한다.
마운트 포인트 안의 파일 정리하기.
파일 시스템의 용량 확장.
기존 파티션에서는 실시간으로 변경하는 것이 불가능하다.
예전에는 아예 안됐다. 확장 불가!
그래도 클라우드 환경으로 넘어오게 되면서 어느정도는 가능해졌다.
LVM으로 구성했다면, 디스크를 붙이거나 확장하는 것이 (상대적으로) 자유롭다. **운영중에도 가능!**

- LVM은 리눅스 뿐 아니라 유닉스에서도 기능한다.
유닉스에서는 축소와 증가가 매우 안정적으로 작동하지만, 리눅스는 아직 축소는 불안정하다. 위험하다!

- NAS : 나스
Bind : 바인드

- NTF 서버와 클라이언트

# 하이티센 발표

- RAID

- 스토리지 종류

  - 블록 스토리지
  - 오브젝트 스토리지
  - 파일 스토리지

- 확장 구성 LVM

- 로지컬 볼륨 매니저
리눅스의 저장공간을 효율적이고 유연하게 관리하기 위한 커널의 한 부분.
기존의 디스크 파티셔닝의 경우 하드 디스크를 파티셔닝 한 후 OS 영역에 마운트

- 물리적 볼륨 PV
실제 디스크 장치를 부할한 파티션된 상태를 의미
PV는 일정한 크기의 PE들로 구성

- 물리적 확장 PE
PV를 구성하는 일정한 크기의 block
보통 1PE는 4MB

- 볼륨 그룹 VG

- 논리적 그룹 LG

- NFS 서버 구축

### 타임서버

#### NTP

- 네트워크 타임 프로토콜
네트워크로 연결되어 있는 장비들 간에 시간을 동기화하는데 사용하는 프로토콜.
어떤 서버를 기준으로 서버와 연결된 장비 사이에 동일한 시간으로 교환할 수 있는 프로토콜.

- UDP : 폐쇄망 사용하지 않는 인터넷 환경에서는 NTP를 따로 구축할 필요가 없다.

- 100 GB 디스크 다섯개를 RAID 1로 묶으면? 용량은?
100 GB. 모든 디스크에 같은 내용이 기록되기 때문.
RAID 1의 경우 디스크를 3개 이상을 사용하는 경우는 없다.

- cloud의 블록 스토리지 사용.
물리적인 장비를 쓰고 있다. 레이드 몇으로 묶었을까? 혹은 몇으로 묶는게 좋을까?
아마 RAID 5일듯?

- 스토리지 종류
  - DAS : 직접 연결
  - NAS : 네트워크 결합
  - SAN : 스토리지 영역 네트워크

- 파일을 변경하면 새로운 오브젝트가 생성되므로, 블록 스토리지는 자주 변경되지 않는 정적 파일에 가장 적합 → 블록 스토리지가 아닌, 오브젝트 스토리지.

- WORM 스토리지 : Write Once, Read Many. (오브젝트 스토리지의 다른 이름)

- NFS? NAS? 둘은 서로 같다고 할 수 있다. NAS의 기본 기술이 NFS.

- TCP? UDP?
  - TCP : 동기적 방식. 신뢰도가 높지만, 전송속도는
    
    UDP :

- NTP은 왜 보안 취약점이 있나? 어떤 공격을 받을 수 있을까?
  - 외부 웹 서버에 직접적으로 연결되기 때문에 보안취약점이 발생한다.

- RAID 5는 RAID 1과 0의 장점을 섞은 방식이라 할 수는 없다.

# 정리

### RAID

- 레이드 1은 페일 오버가 거의 없다.
운영체제에 많이 사용한다. 실제 물리 서버에서는 RAID 1으로 운영체제 영역을 구성한다.

- 레이드 0은 디스크 하나의 손실이 모든 데이터를 사용하지 못하게 된다. 안정성은 매우 떨어짐. 다만, 속도는 가장 빠르다.
안정성이 너무 떨어져서 거의 안 쓴다. 만약 쓴다면 굉장히 무식한 사람!

- 레이드 5는 한개의 디스크까지는 장애를 허용한다. 동시에 두 개 이상의 디스크가 고장나면 핫스페어가 있더라도 위험하다.
하지만.. Hot Spare라고 하는 스페어 디스크를 두는 경우가 많다.

- 레이드 6는 권장해서 쓰는 경우도 있고, 굳이 이렇게까지? 하는 경우가 있다.

- 레이드 1과 레이드 5, 그리고 레이드 1+0을 기억해두면 좋다.

- 하드웨어 RAID : 거쳐야 하는 과정이 없기 때문에 굉장히 빠르고, 가장 좋다.
  - 하드웨어가 카드가 손상되면 레이드 정보를 다시 불러오기 쉽지 않다.

- OS RAID : 데이터를 주고받고 처리하는 과정이 불필요하게 들어간다. 그래서 좀 느림. 근데 체감이 될 정도는 아니구..

### 스토리지 확장

- 웬만하면 UUID를 사용하는 것이 좋다. 어느 순간 바뀌는 경우가 생기기 때문!
UUID는 유일한 값이므로 혹시나 하는 문제가 있다.

- PV : PV를 묶고
VG : VG을 한개 이상 만들고
LV : LV를 파티션처럼 만들어서 사용한다.

### 스토리지 종류

- 블록 스토리지를 이해하기 위해서는 하드디스크의 가장 기본 단위를 이해해야한다.

- SAN, NAS, DAS.

- /fstab은 생각보다 사고가 많이 나니까 조심히 다뤄야한다.

### NFS 서버 구축

- 리눅스 안에서 구축하는 것을 원했는데, NAS 상품을 사용해서 NFS를 구축해서 조금 아쉽.
마운트 포인트, 익스포트 등 개념적인 부분이 좀 어렵지만 굉장히 쉽다.
서버-클라이언트라는 개념이 굉장히 중요하다!

### NTP

- 서버와 클라이언트에 대한 개념이 좀 부족한듯...?
서버 설정만 하고 클라이언트 설정은 안 됐음.

### sudo 명령어

- sudo
sudo -i 를 사용해서 루트 권한을 얻고 작업을 진행한다면 편하다! 하지만.. 보안에 좋지는 않다.
일일이 sudo 를 적고 명령어를 기입해주면 귀찮지만, 그래도 보안상 안정성을 좀 더 확보할 수 있다.

- 발표의 어려움..
이해되지 않더라도, 부정적으로 받아들일 필요는 없다!
무지를 인정하고 의구심을 품고 계속 탐구하자.

### IP에 대해서

**OSI 7 layer**

네트워크를 7개의 단계로 나눠서 설명하는 것.

- IP는 3번째 계층, TCP/UDP는 4계층.

- 논리적으로 만든 것 뿐, 실제로 사용하고 있지는 않다.
구조화 시킨 것.
L1, L2, L3, L4 ...

- 공유기는 L3. 공유기는 L3 장비라고 부른다.

- Layer4 = L4. 로드 밸런서가 Layer4에 포함된다.
TCP / UDP 라는 프로토콜 사용.

- port 범위 : 1 ~ 65535
well known 포트 : 1 ~ 1024 > 거의 고정. 아주 많이 사용하고 때문에 잘 알려져 있다.

- UDP : 123 NTP

**TCP / UDP**

- 거의 모든 행위들이 TCP 기반으로 이루어짐.
TCP > 신뢰성이 높다.

- TCP
누군가에게 파일을 보낼 때
1) 통신 할게 준비되어 있니?
2) 준비되어 있어 보내~
3) 오케이 보낼게~
3 way handshake > 상호 정보 교환이 있음.
4) 1/10 데이터
5) 받았어? 어 받았어
6) 그래 나머지 보낼게
7) ? 야 안왔어
8) 어 그래? 다시 보낼게
9) 4 way handshake
10) 종료할까?
11) 그래 종료하자~
12) 끝~

- 위와 같은 과정때문에 TCP는 신뢰성이 높다. 패킷이 중간에 빠지더라도 다시 이어주는 과정이 있다.

- UDP = 답정너
1) 패킷을 보낼게~
2) 1번 보내
3) 2번 보내
4) 3번 보내
↓ 중간에 빠져도 상관없이 계속 보냄
끝

- 중간에 패킷이 빠져도 다시 잇는 과정이 없다.

- 속도가 빠르지만 신뢰성이 떨어진다. 파일이 멀쩡하게 온다는 보장을 할 수 없다...

- 공인 IP를 사용하면 보안 취약성이 증가할 수 있다.
내부 IP를 잘 알고 활용해야된다. 속도와 보완 취약성 모두 개선할 수 있기 때문.

***IP에는 범위가 있다. IP range***
- 123.123.123.123 > ip 쓰는 방법
32bit로 구성되어 있다.
00000000.00000000.00000000.00000000 > 2진수로 나타낸 ip
0.0.0.0 ~ 255.255.255.255 가 ip의 범위.

- 사설망(폐쇄망)
내부에서만 사용하기 위한 IP이기 때문에 인터넷과 전혀 관련없다.
10.0.0.0 ~ 10.255.255.255 라든지
192.168.0.0 ~ 192.168.255.255 등이 있다.

- 이 IP로는 일반적으로 해킹할 수 있지만, 해커가 내가 사용하는 망에 있어야 가능한 일이다.

- 인터넷망
사설망 범위를 벗어나는 IP는 인터넷이 가능하다.

**bit mask**

- 서브넷 비트마스크
/0~32
범위를 지정하기 위한 것.

- /32
myip 공인IP/32 > 1개.
한개의 ip만 방화벽에서 허용한다.

- /24
255개의 ip.
192.168.0.0/24 > 192.168.0.0 ~ 192.168.0.255 의 범위안에서 허용된다.
